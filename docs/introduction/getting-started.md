---
id: getting-started
title: Getting Started
sidebar_label: Getting Started
hide_title: true
---

import LiteYouTubeEmbed from 'react-lite-youtube-embed';
import 'react-lite-youtube-embed/dist/LiteYouTubeEmbed.css'

&nbsp;

# Начало работы с Redux Toolkit

## Цель

**Redux Toolkit** предназначен для стандартного способа написания логики [Redux](https://redux.js.org). Первоначально он был создан для решения трех распространенных проблем, связанных с Redux:

- "Конфигурирование Redux стора слишком сложное"
- "Мне нужно добавить много пакетов, чтобы заставить Redux делать что-то полезное"
- "Redux требует слишком много шаблонного кода"

Мы не можем покрыть все варианты использования, но в духе[`create-react-app`](https://github.com/facebook/create-react-app) и [`apollo-boost`](https://www.apollographql.com/blog/announcement/frontend/zero-config-graphql-state-management/), мы можем попытаться предоставить некоторые инструменты, которые абстрагируются от процесса установки и покрывают наиболее распространенные варианты использования, а также включают некоторые полезные утилиты, которые будут позволить пользователю упростить код своего приложения.

Redux Toolkit также включает мощную возможность запроса и кэширования данных, которую мы назвали ["RTK Query"](#rtk-query). Он доступен в пакете  по  отдельному пути. Это необязательно, но может избавить от необходимости вручную писать логику запроса данных.

**Эти инструменты должны быть полезны всем пользователям Redux**. Независимо от того, являетесь ли вы новым пользователем Redux, настраивающим первый проект или опытный пользователь, который хочет упростить существующее приложение, **Redux Toolkit** может помочь вам сделать свой код Redux лучше.

## Установка

### Используя Create React App

Рекомендованный путь для старта новых приложений с React и Redux Toolkit - использование [официального шаблона Redux+JS](https://github.com/reduxjs/cra-template-redux) или [Redux+TS template](https://github.com/reduxjs/cra-template-redux-typescript) для [Create React App](https://github.com/facebook/create-react-app), который использует преимущества **[Redux Toolkit](https://redux-toolkit.js.org/)** и интеграции React Redux с компонентами React.

```bash
# Redux + Plain JS template
npx create-react-app my-app --template redux

# Redux + TypeScript template
npx create-react-app my-app --template redux-typescript
```

### Существующее приложение

Redux Toolkit доступен, как NPM-пакет для использования с бандлером или в Node приложении:

```bash
# NPM
npm install @reduxjs/toolkit
```

or

```bash
# Yarn
yarn add @reduxjs/toolkit
```

Он также доступен, в виде прекомпилированного UMD пакета, который определяет глобальную переменную  `window.RTK`
UMD пакет можно использовать напрямую через [тэг `<script>`](https://unpkg.com/@reduxjs/toolkit/dist/redux-toolkit.umd.js).

## Что включено

Redux Toolkit предоставляет следующие API:

- [`configureStore()`](../api/configureStore.mdx): оборачивает createStore, чтобы предоставить упрощенные параметры конфигурации и значений по умолчанию. Он может автоматически комбинировать ваши слайсы редьюсеров, добавлять любые мидлвары Redux, по умолчанию включает `redux-thunk` и позволяет использовать расширение Redux DevTools.
- [`createReducer()`](../api/createReducer.mdx): позволяет вам использовать таблицу соответствия типов экшенов с функциями редьюсера, вместо написания операторов switch. Кроме того, он автоматически использует [библиотеку `immer`](https://github.com/immerjs/immer) чтобы вы могли писать более простые иммутабельные обновления в обычном мутабельном стиле, например `state.todos[3].completed = true`.
- [`createAction()`](../api/createAction.mdx): создает генератор экшена для переданного типа. В самой функции определена функция `toString ()`, поэтому ее можно использовать вместо константы типа.
- [`createSlice()`](../api/createSlice.mdx): комбинирует `createReducer()` + `createAction()`. Принимает объект с функцией редьюсера, название слайса, значение начального состояния и автоматически создает слайс-редьюсер, с соответствующими генераторами и типами экшенов.
-[`createListenerMiddleware()`](../api/createListenerMiddleware.mdx): позволяет вам определить записи обработчика событий, которые содержат "effect" коллбэк с дополнительной логикой, а также способ указать, когда этот коллбэк должен выполняться на основе отправленных действий или изменений состояния. Облегченная альтернатива асинхронным мидлварам Redux, такому как саги и observables.
- [`createAsyncThunk`](../api/createAsyncThunk.mdx): принимает строку типа экшена и функцию, которая возвращает промис и генерирует thunk, который диспатчит `pending/fulfilled/rejected` типы экшенов на основе этого промиса
- [`createEntityAdapter`](../api/createEntityAdapter.mdx): создает набор переиспользуемых редьюсеров и селекторов, для управления нормализованными данными в сторе
- [Утилита`createSelector`](../api/createSelector.mdx) из библиотеки [Reselect](https://github.com/reduxjs/reselect), реэкспортируемая для удобства использования.

## RTK Query

**RTK Query** поставляется, как дополнительный модуль в пакете @reduxjs/toolkit. Он специально создан для решения вопросов запросов и кэширования данных, предоставляя компактный, но мощный набор инструментов для определения уровня интерфейса API для вашего приложения. Он предназначен для упрощения основных случаев загрузки данных в веб-приложение, устраняя необходимость вручную писать логику выборки и кэширования данных. 

RTK Query построен на основе ядра Redux Toolkit, используя внутреннюю архитектуру [Redux](https://redux.js.org/). Хотя знание Redux и RTK не требуется для использования RTK Query, вам следует изучить все дополнительные возможности управления глобальным хранилищем, которые они предоставляют, а также установить [расширение браузера Redux DevTools](https://github.com/reduxjs/ redux-devtools), который безупречно работает с RTK Query для просмотра и воспроизведения временной шкалы вашего запроса и поведения кеша.

RTK Query включен в установку основного пакета Redux Toolkit. Он доступен через любой из двух вариантов:

```ts no-transpile
import { createApi } from '@reduxjs/toolkit/query'

/* Точка входа, специфичная для React, которая автоматически генерирует хуки, соответствующие
определенным конечным точкам */
import { createApi } from '@reduxjs/toolkit/query/react'
```
### Что включено

RTK Query включает следующие API:

- `createApi()`: Ядро функциональности RTK Query. Он позволяет вам определять набор эндпоинтов, описывающих, как извлекать данные из серии эндпоинтов, включая конфигурацию того, как запрашивать и преобразовывать эти данные. В большинстве случаев вы должны использовать это один раз для каждого приложения, используя в качестве практического правила «один фрагмент API на базовый URL-адрес».
- `fetchBaseQuery()`: Небольшая оболочка для fetch, которая упрощает запросы. Предназначен как рекомендуемый baseQuery для использования в createApi для большинства пользователей.
- `<ApiProvider />`: Может использоваться в качестве Provider, если у вас еще нет стора Redux.
- `setupListeners()`: Утилита, используемая для включения поведения refetchOnMount и refetchOnReconnect.

См. страницу [**Обзор RTK Query**](https://redux-toolkit.js.org/rtk-query/overview) для получения дополнительных сведений о том, что такое RTK Query, какие проблемы он решает и как его использовать.

## Изучите Redux

У нас есть множество ресурсов, которые помогут вам изучить Redux.

### Учебник по основам Redux

[**Учебное пособие по основам Redux**](https://redux.js.org/tutorials/essentials/part-1-overview-concepts) — это учебное пособие «сверху вниз», в котором рассказывается, "как правильно использовать Redux", используя наши последние рекомендуемые API и лучшие практики. Рекомендуем начать оттуда.

### Учебник по принципам Redux

[**Учебное пособие по принципам Redux**](https://redux.js.org/tutorials/fundamentals/part-1-overview) — это учебное пособие «снизу вверх», в котором рассказывается, «как работает Redux», начиная с первых принципов и без каких-либо абстракций и почему существуют стандартные шаблоны использования Redux.

### Learn Modern Redux Livestream

Ведущий разработчик Марк Эриксон появился на шоу «Учись с Джейсоном», чтобы объяснить, как мы рекомендуем использовать Redux сегодня. Шоу включает в себя пример приложения с кодом в реальном времени, которое показывает, как использовать Redux Toolkit и хуки React-Redux с Typescript, а также новые API-интерфейсы для запроса данных RTK Query.

См. [страницу заметок к шоу «Learn Modern Redux»](https://www.learnwithjason.dev/let-s-learn-modern-redux) для расшифровки стенограммы и ссылок на исходный код примера приложения.

<LiteYouTubeEmbed 
    id="9zySeP5vH9c"
    title="Learn Modern Redux - Redux Toolkit, React-Redux Hooks, and RTK Query"
/>

## Помощь и обсуждение

**[#Redux канал](https://discord.gg/0ZcbPKXt5bZ6au5t)** часть **[Reactiflux Discord сообщества](http://www.reactiflux.com)** - наш официальный ресурс для ответов на все вопросы, связанных с изучением и использованием Redux. Reactiflux — отличное место, где можно пообщаться, задать вопросы и узнать что-то новое — присоединяйтесь к нам!

Вы также можете задавать вопросы на [Stack Overflow](https://stackoverflow.com), используя **[тег #redux](https://stackoverflow.com/questions/tagged/redux)**.
